

\begin{figure}[H]
    \centering
    \begin{tikzpicture}[auto, node distance=2cm, >=latex]

        % Define nodes
        \node [draw, minimum width=3cm, minimum height=2cm] (P) {};
        \node [draw, minimum width=1cm, minimum height=1cm, above=1cm of P] (Delta) {$\Delta$};
        \node [draw, minimum width=1cm, minimum height=1cm, below=1cm of P] (K) {$K$};
    
        % Inputs and outputs
        \node [left=2cm of P] (e) {$e$};
        \node [right=2cm of P] (d) {$d$};
        \node [left=1.5cm of Delta] (z) {$z$};
        \node [right=1.5cm of Delta] (w) {$w$};
        \node [left=1.5cm of K] (y) {$y$};
        \node [right=1.5cm of K] (u) {$u$};

        \node [above=0.1cm of P.south east] (pse) {};
        \node [above=0.1cm of P.south west] (psw) {};
        \node [below=0.1cm of P.north east] (pne) {};
        \node [below=0.1cm of P.north west] (pnw) {};
        
        % Draw arrows
        \draw[->] (e) -- (P.west);
        \draw[->] (P.east) -- (d);
        \draw[->] (z) -- (Delta.west);
        \draw[->] (Delta.east) -- (w);
        \draw[->] (w) |- (pne);
        \draw[->] (pnw) -| (z);
        \draw[->] (psw) -| (y);
        \draw[->] (y) -- (K.west);
        \draw[->] (K.east) -- (u);
        \draw[->] (u) |- (pse);

        \node [above=1.2cm of e] (l1) {};
        \node [above=1.2cm of d] (l2) {};

        \draw[dashed] (l1) -- (l2);
    
    \end{tikzpicture}
\end{figure}